!function(){var e="spinner-",n=function(){var e=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150",t=["name","detailsUrl"];function i(n){!function(e){var n=Object.keys(e);return"object"==typeof e&&t.length===n.length&&t.every(function(e){return n.indexOf(e)>=0})}(n)?console.error("Error: you are trying to add a non valid object to the repository"):e.push(n)}return{add:i,getAll:function(){return e},filter:function(n){return e.filter(function(e){return e.name===n})},loadList:function(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function(e){var n=e.detailsUrl;return fetch(n).then(function(e){return e.json()}).then(function(n){e.imageUrl=n.sprites.front_default,e.height=n.height,e.types=Object.keys(n.types)}).catch(function(e){console.error(e)})}}}(),t=function(){var e=document.querySelector("#modal-container");function n(){e.classList.remove("is-visible")}return{show:function(t){var i=t.name,r=t.height,o=t.imageUrl;e.innerHTML="";var a=document.createElement("div");a.classList.add("modal");var c=document.createElement("button");c.classList.add("modal-close"),c.innerText="Close",c.addEventListener("click",n);var s=document.createElement("h1");s.innerText=i;var l=document.createElement("img");l.setAttribute("src",o);var d=document.createElement("p");d.innerText="Height "+r,a.appendChild(c),a.appendChild(s),a.appendChild(l),a.appendChild(d),e.appendChild(a),e.addEventListener("click",function(t){t.target===e&&n()}),e.classList.add("is-visible")},hide:n,isVisible:function(){return e.classList.contains("is-visible")}}}();function i(i){var r=function(n){var t=n.name,i="#"+e+t,r=document.querySelector(i);return r&&r.classList.add("button-spinner"),r}(i);n.loadDetails(i).then(function(){t.show(i)}).finally(function(){!function(e){e.classList.remove("button-spinner")}(r)})}var r=document.querySelector(".pokemon-list");if(r){var o=document.createElement("div");r.parentNode.insertBefore(o,r),o.classList.add("list-spinner"),n.loadList().then(function(){n.getAll().forEach(function(n){!function(n,t){var r=n.name,o=document.createElement("li");o.classList.add("pokemon-list__item");var a=document.createElement("button"),c=document.createTextNode(r),s=document.createElement("span");s.setAttribute("id",e+r),a.appendChild(c),a.appendChild(s),o.appendChild(a),t.appendChild(o),a.addEventListener("click",function(e){i(n)})}(n,r)})}).finally(function(){o.classList.remove("list-spinner")})}window.addEventListener("keydown",function(e){"Escape"===e.key&&t.isVisible()&&t.hide()})}();